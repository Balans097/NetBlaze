# NetBlaze üî•

> –ú–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –≤–µ–±-–¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —è–∑—ã–∫–µ Nim

[![Nim Version](https://img.shields.io/badge/nim-2.0.4+-blue.svg)](https://nim-lang.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-stable-brightgreen.svg)]()

NetBlaze ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—è–º–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—é—â–∞—è –Ω–∞–¥—ë–∂–Ω—ã–π HTML-–ø–∞—Ä—Å–µ—Ä, CSS/XPath —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞. –°–æ–∑–¥–∞–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Nim.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π HTML-–ø–∞—Ä—Å–µ—Ä
- **–¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Äû–≥—Ä—è–∑–Ω—ã—Ö‚Äú HTML —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ—à–∏–±–æ–∫
- **–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞** - —Å—Ç—Ä–æ–≥–∏–π, —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π –∏ HTML5-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π
- **CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—ã** ‚Äî –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ CSS3 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- **XPath-–∑–∞–ø—Ä–æ—Å—ã** ‚Äî –±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ XPath –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- **–ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ç–µ–≥–æ–≤ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ DOM** ‚Äî –ø–æ–ª–Ω—ã–π –æ–±—Ö–æ–¥ –∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è –¥–µ—Ä–µ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### üåê –î–≤–∏–∂–æ–∫ –¥–ª—è –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞
- **CSS3 —Å–µ–ª–µ–∫—Ç–æ—Ä—ã** ‚Äî –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ W3C
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ XPath** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é XPath –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- **Chainable API** ‚Äî —É–¥–æ–±–Ω—ã–π —Ü–µ–ø–æ—á–µ—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ Response** ‚Äî —É–¥–æ–±–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è HTTP –æ—Ç–≤–µ—Ç–æ–≤
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫** ‚Äî —É–º–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ URL —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **Item loaders** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** ‚Äî –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã —Å async/await
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ë—ã—Å—Ç—Ä—ã–π —Ä–∞–∑–±–æ—Ä** - –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ª–µ–∫—Å–µ—Ä –∏ –ø–∞—Ä—Å–µ—Ä

### üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Ñ–æ—Ä–º–∞—Ç—ã JSON, CSV, JSON Lines
- **–°–∏—Å—Ç–µ–º–∞ Middleware** ‚Äî –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü** ‚Äî —Ä–∞–∑–±–æ—Ä HTML —Ç–∞–±–ª–∏—Ü –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª–µ–π —Ñ–æ—Ä–º
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ Nimble

```bash
nimble install netblaze
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Balans097/NetBlaze.git
cd NetBlaze
nimble install
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ HTML

```nim
import netblaze/htmlparser

# –ü–∞—Ä—Å–∏–Ω–≥ HTML —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ—à–∏–±–æ–∫
let html = """
<div class="container">
  <h1>–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä</h1>
  <p class="text">–ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ
  <p class="text">–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ
</div>
"""

let doc = parseHtml(html)

# –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
let heading = selectOne(doc, "h1")
echo getText(heading)  # "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä"

let paragraphs = select(doc, "p.text")
for p in paragraphs:
  echo getText(p)
```

### –í–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥

```nim
import netblaze/nimbrowser

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ response
let response = newResponse(
  url = "https://example.com",
  status = 200,
  body = """
    <div class="product">
      <h2 class="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h2>
      <span class="price">99.99‚ÇΩ</span>
    </div>
  """
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ chainable API –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
let title = response.css(".product .title").get()
let price = response.css(".price").get()

echo "–ù–∞–∑–≤–∞–Ω–∏–µ: ", title
echo "–¶–µ–Ω–∞: ", price
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```nim
import netblaze/nimbrowser
import asyncdispatch

proc scrapeWebsite() {.async.} =
  let response = await fetchAsync("https://example.com")
  let titles = response.css("h1").getall()
  
  for title in titles:
    echo title.get()

waitFor scrapeWebsite()
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

```nim
import netblaze/htmlparser

let html = """
<table>
  <thead>
    <tr><th>–ò–º—è</th><th>–í–æ–∑—Ä–∞—Å—Ç</th></tr>
  </thead>
  <tbody>
    <tr><td>–ê–ª–∏—Å–∞</td><td>30</td></tr>
    <tr><td>–ë–æ–±</td><td>25</td></tr>
  </tbody>
</table>
"""

let doc = parseHtml(html)
let table = selectOne(doc, "table")
let data = extractTable(table)

echo "–ó–∞–≥–æ–ª–æ–≤–∫–∏: ", data.headers
for row in data.rows:
  echo "–°—Ç—Ä–æ–∫–∞: ", row

# –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
let csv = tableToCsv(data)
writeFile("output.csv", csv)
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### HTML –ø–∞—Ä—Å–µ—Ä

#### –†–µ–∂–∏–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

NetBlaze –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:

- **Strict (–°—Ç—Ä–æ–≥–∏–π)** - –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ XML –ø–∞—Ä—Å–µ—Ä–∞, –±–µ–∑ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- **Relaxed (–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- **HTML5** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü

```nim
import netblaze/htmlparser

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (relaxed)
let doc1 = parseHtml(html)

# –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º
let doc2 = parseHtml(html, strictOptions())

# HTML5 —Ä–µ–∂–∏–º –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
let doc3 = parseHtml(html, html5Options())
```

#### CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

```nim
# –ü–æ —Ç–µ–≥—É
let divs = select(doc, "div")

# –ü–æ –∫–ª–∞—Å—Å—É
let items = select(doc, ".item")

# –ü–æ ID
let header = selectOne(doc, "#header")

# –ü–æ –∞—Ç—Ä–∏–±—É—Ç—É
let links = select(doc, "a[href]")
let httpsLinks = select(doc, "a[href^='https']")

# –ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã
let directChildren = select(doc, "div > p")
let descendants = select(doc, "div p")
let adjacent = select(doc, "h1 + p")

# –ü—Å–µ–≤–¥–æ-–∫–ª–∞—Å—Å—ã
let firstItem = selectOne(doc, "li:first-child")
let evenRows = select(doc, "tr:nth-child(even)")
let notExcluded = select(doc, "p:not(.exclude)")
```

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```nim
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
let text = getText(element)
let textClean = getTextClean(element)  # –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
let href = getAttribute(element, "href")
let allAttrs = getAttributes(element)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –ø–æ—Ç–æ–º–∫–æ–≤
let allText = getAllText(element)
```

### –í–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥

#### ItemLoader

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

```nim
import netblaze/nimbrowser

let response = newResponse(url = "...", body = html)

# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
let loader = newItemLoader(response.css(".product"))

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π
loader.addCss("title", "h2.title")
loader.addCss("price", ".price", attrib = "data-price")
loader.addCss("image", "img", attrib = "src")

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let item = loader.loadItem()

echo item["title"]
echo item["price"]
echo item["image"]
```

#### LinkExtractor

–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫:

```nim
import netblaze/nimbrowser
import re

# –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–∞ —Å—Å—ã–ª–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
let extractor = newLinkExtractor(
  allowDomains = @["example.com"],
  denyPatterns = @[re".*\.(pdf|zip)$"],
  unique = true
)

let links = extractor.extractLinks(response)
for link in links:
  echo link.url
```

#### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

```nim
import netblaze/nimbrowser

var items: seq[Item] = @[]

# ... —Å–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ...

# –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
let jsonData = items.toJson()
writeFile("data.json", jsonData)

# –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON Lines
let jsonlData = items.toJsonLines()
writeFile("data.jsonl", jsonlData)

# –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
let csvData = items.toCsv()
writeFile("data.csv", csvData)
```

---

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-—Å–∞–π—Ç–æ–≤
- **–í–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- **–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ü–∞—Ä—Å–∏–Ω–≥ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **SEO –∞–Ω–∞–ª–∏–∑** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü
- **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü–∞—Ä—Å–∏–Ω–≥ HTML –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö
- **–í–µ–±-–∫—Ä–∞—É–ª–µ—Ä—ã** - –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—É–∫–æ–≤ –∏ –∫—Ä–∞—É–ª–µ—Ä–æ–≤

---

## üìñ –ü—Ä–∏–º–µ—Ä—ã

### –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö

```nim
import netblaze/nimbrowser
import asyncdispatch

proc scrapeProducts(url: string) {.async.} =
  let response = await fetchAsync(url)
  
  # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
  let products = response.css(".product").getall()
  
  for product in products:
    let loader = newItemLoader(product)
    loader.addCss("name", "h2.name")
    loader.addCss("price", ".price")
    loader.addCss("rating", ".rating", attrib = "data-rating")
    loader.addCss("image", "img", attrib = "src")
    
    let item = loader.loadItem()
    echo item.toJson()

waitFor scrapeProducts("https://example.com/products")
```

### –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π

```nim
import netblaze/htmlparser

let doc = loadHtml("article.html")

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç—å–∏
let title = selectOne(doc, "h1.article-title")
let author = selectOne(doc, ".author-name")
let date = selectOne(doc, "time[datetime]")

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç–∞—Ç—å–∏
let paragraphs = select(doc, "article p")
var content = ""
for p in paragraphs:
  content &= getText(p) & "\n"

echo "–ó–∞–≥–æ–ª–æ–≤–æ–∫: ", getText(title)
echo "–ê–≤—Ç–æ—Ä: ", getText(author)
echo "–î–∞—Ç–∞: ", getAttribute(date, "datetime")
echo "\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:\n", content
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ email –∞–¥—Ä–µ—Å–æ–≤

```nim
import netblaze/htmlparser
import re

let doc = loadHtml("contacts.html")
let allText = getAllText(doc)

# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö email –∞–¥—Ä–µ—Å–æ–≤
let emailPattern = re"\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b"
var emails: seq[string] = @[]

for match in findAll(allText, emailPattern):
  emails.add(match)

echo "–ù–∞–π–¥–µ–Ω–æ email –∞–¥—Ä–µ—Å–æ–≤: ", emails
```

### –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

```nim
import netblaze/nimbrowser
import asyncdispatch

proc scrapeAllPages() {.async.} =
  var page = 1
  var allData: seq[Item] = @[]
  
  while true:
    let url = "https://example.com/data?page=" & $page
    let response = await fetchAsync(url)
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    let rows = response.css("table tr").getall()
    
    if rows.len == 0:
      break  # –ë–æ–ª—å—à–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
    
    for row in rows:
      let loader = newItemLoader(row)
      loader.addCss("name", "td:nth-child(1)")
      loader.addCss("value", "td:nth-child(2)")
      allData.add(loader.loadItem())
    
    page += 1
  
  # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
  writeFile("all_data.json", allData.toJson())

waitFor scrapeAllPages()
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```nim
import netblaze/nimbrowser
import asyncdispatch, httpclient

proc downloadImages(pageUrl: string) {.async.} =
  let response = await fetchAsync(pageUrl)
  
  # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  let images = response.css("img").getall()
  
  var client = newAsyncHttpClient()
  
  for img in images:
    let src = img.attrib("src")
    let fullUrl = urljoin(pageUrl, src)
    
    # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    let imgData = await client.get(fullUrl)
    let filename = "images/" & src.split('/')[^1]
    writeFile(filename, await imgData.body)
    
    echo "–°–∫–∞—á–∞–Ω–æ: ", filename

waitFor downloadImages("https://example.com/gallery")
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

```nim
import netblaze/nimbrowser
import asyncdispatch, times, os

proc monitorPrice(url: string) {.async.} =
  var lastPrice = ""
  
  while true:
    let response = await fetchAsync(url)
    let currentPrice = response.css(".price").get()
    
    if currentPrice != lastPrice and lastPrice != "":
      echo "[", now(), "] –¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å: ", lastPrice, " -> ", currentPrice
      # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    
    lastPrice = currentPrice
    await sleepAsync(60000)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

waitFor monitorPrice("https://example.com/product/123")
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º

```nim
import netblaze/htmlparser

let html = """
<form action="/submit" method="POST">
  <input type="text" name="username" value="user123">
  <input type="password" name="password">
  <select name="country">
    <option value="ru">–†–æ—Å—Å–∏—è</option>
    <option value="us">–°–®–ê</option>
  </select>
  <textarea name="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</textarea>
</form>
"""

let doc = parseHtml(html)
let form = selectOne(doc, "form")
let formData = extractForm(form)

echo "–î–µ–π—Å—Ç–≤–∏–µ: ", formData.action
echo "–ú–µ—Ç–æ–¥: ", formData.command
echo "\n–ü–æ–ª—è:"
for field in formData.fields:
  echo "  ", field.name, " (", field.fieldType, "): ", field.value
  if field.options.len > 0:
    echo "    –û–ø—Ü–∏–∏: ", field.options
```

---

## üîß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–ø—Ü–∏–∏ –ø–∞—Ä—Å–µ—Ä–∞

```nim
import netblaze/htmlparser

var options = defaultOptions()
options.autoClose = true           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç–µ–≥–∏
options.fixNesting = true          # –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
options.removeInvalid = true       # –£–¥–∞–ª—è—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Ç–µ–≥–∏
options.preserveWhitespace = false # –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–±–µ–ª—ã
options.decodeEntities = true      # –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å HTML-—Å—É—â–Ω–æ—Å—Ç–∏

let doc = parseHtml(html, options)
```

### XPath –∑–∞–ø—Ä–æ—Å—ã

```nim
import netblaze/nimbrowser

let response = newResponse(url = "...", body = html)

# XPath –≤—ã—Ä–∞–∂–µ–Ω–∏—è
let allParagraphs = response.xpath("//p").getall()
let firstDiv = response.xpath("//div[1]").get()
let linksWithHref = response.xpath("//a[@href]").getall()
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

```nim
import netblaze/htmlparser

var errors: seq[string] = @[]
let doc = parseHtml(dirtyHtml, errors, html5Options())

if errors.len > 0:
  echo "–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞: ", errors.len
  for err in errors:
    echo "  - ", err
else:
  echo "HTML —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω"
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```nim
import netblaze/htmlparser

let doc = loadHtml("page.html")

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–æ–≤
let metaTags = select(doc, "meta")
for meta in metaTags:
  let name = getAttribute(meta, "name")
  let property = getAttribute(meta, "property")
  let content = getAttribute(meta, "content")
  
  if name != "":
    echo name, ": ", content
  elif property != "":
    echo property, ": ", content
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```nim
import netblaze/htmlparser

let doc = loadHtml("page.html")

# –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
let stats = getStats(doc)
echo "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:"
for key, val in stats.pairs:
  echo "  ", key, ": ", val

# –ü–æ–¥—Å—á—ë—Ç —Ç–µ–≥–æ–≤
let tagCounts = countTags(doc)
echo "\n–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤:"
for tag, count in tagCounts.pairs:
  echo "  ", tag, ": ", count
```

### –û—á–∏—Å—Ç–∫–∞ –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML

```nim
import netblaze/htmlparser

let doc = parseHtml(unsafeHtml)

# –£–¥–∞–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π
let cleaned = removeScripts(doc)
let noStyles = removeStyles(cleaned)

# –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Ç–µ–≥–æ–≤
let noEmpty = removeEmptyTags(noStyles)

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
let noComments = removeComments(noEmpty)

# –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–µ–≥–∏
let safeTags = @["p", "div", "span", "b", "i", "a", "ul", "ol", "li", "h1", "h2", "h3"]
let sanitized = sanitize(noComments, safeTags)

# –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥
echo prettyPrint(sanitized)
```

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

```nim
import netblaze/nimbrowser
import strutils

# –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–±–µ–ª–æ–≤
proc cleanWhitespace(values: seq[string]): seq[string] =
  result = @[]
  for val in values:
    result.add(val.strip())

# –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
proc toUpper(values: seq[string]): string =
  if values.len > 0:
    return values[0].toUpperAscii()
  return ""

let loader = newItemLoader(response.css(".item"))
loader.addCss("name", "h2", 
  inputProcessor = cleanWhitespace,
  outputProcessor = toUpper)

let item = loader.loadItem()
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
nimble test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
nim c -r tests/test_htmlparser.nim
nim c -r tests/test_nimbrowser.nim
```

---

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å Pull Request. –î–ª—è —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å.

1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/AmazingFeature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m '–î–æ–±–∞–≤–∏—Ç—å AmazingFeature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –°–ø–∞—Å–∏–±–æ —Å–æ–æ–±—â–µ—Å—Ç–≤—É Nim –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ Python —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ BeautifulSoup –∏ Scrapy
- –°–æ–∑–¥–∞–Ω–æ —Å —É–ø–æ—Ä–æ–º –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues**: [GitHub Issues](https://github.com/Balans097/NetBlaze/issues)
- **–û–±—Å—É–∂–¥–µ–Ω–∏—è**: [GitHub Discussions](https://github.com/Balans097/NetBlaze/discussions)

---

## üó∫ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ JavaScript
- [ ] –ë–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π XPath
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ cookies
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ middleware
- [ ] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

---

## üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

### CSS –°–µ–ª–µ–∫—Ç–æ—Ä—ã

#### –ë–∞–∑–æ–≤—ã–µ
- `*` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä
- `element` - –ü–æ —Ç–µ–≥—É (`div`, `p`, `span`)
- `.class` - –ü–æ –∫–ª–∞—Å—Å—É
- `#id` - –ü–æ ID

#### –ê—Ç—Ä–∏–±—É—Ç—ã
- `[attr]` - –ê—Ç—Ä–∏–±—É—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `[attr=value]` - –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
- `[attr~=value]` - –°–ª–æ–≤–æ –≤ —Å–ø–∏—Å–∫–µ
- `[attr|=value]` - –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å (—Å –¥–µ—Ñ–∏—Å–æ–º)
- `[attr^=value]` - –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å
- `[attr$=value]` - –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞
- `[attr*=value]` - –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å—Ç—Ä–æ–∫—É

#### –ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã
- `(–ø—Ä–æ–±–µ–ª)` - –ü–æ—Ç–æ–º–æ–∫
- `>` - –ü—Ä—è–º–æ–π –ø–æ—Ç–æ–º–æ–∫
- `+` - –°–ª–µ–¥—É—é—â–∏–π —Å–æ—Å–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
- `~` - –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Å–µ–¥–∏

#### –ü—Å–µ–≤–¥–æ-–∫–ª–∞—Å—Å—ã
- `:first-child`, `:last-child`, `:only-child`
- `:first-of-type`, `:last-of-type`, `:only-of-type`
- `:nth-child(n)`, `:nth-last-child(n)`
- `:nth-of-type(n)`, `:nth-last-of-type(n)`
- `:empty` - –ü—É—Å—Ç–æ–π —ç–ª–µ–º–µ–Ω—Ç
- `:not(selector)` - –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ

---

## üí° –°–æ–≤–µ—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```nim
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤
enableQueryCache()

# –î–ª—è –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Ç–∫–ª—é—á–∏—Ç–µ –∫—ç—à
disableQueryCache()

# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
clearQueryCache()
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```nim
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
let stream = newFileStream("large.html", fmRead)
let doc = parseHtml(stream, html5Options())
stream.close()
```

### –û—Ç–ª–∞–¥–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

```nim
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã
let elements = select(doc, "div.item")
echo "–ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: ", elements.len

# –í—ã–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
echo prettyPrint(doc)
```

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –Ω–∞ Nim**

NetBlaze - –¥–µ–ª–∞–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ–±-–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç—ã–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º! üöÄ
